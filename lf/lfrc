# lf configuration file
# Documentation: https://github.com/gokcehan/lf/blob/master/doc.md
# Example config: https://github.com/gokcehan/lf/blob/master/etc/lfrc.example

#
# OPTIONS
#

# File finding and searching
set anchorfind      # Stay at current file when using find
set findlen 1       # Minimum search length before triggering find
set incsearch       # Show search results as you type
set ignorecase      # Case insensitive searching
set smartcase       # Case sensitive when search contains uppercase

# UI and display
set drawbox         # Draw boxes around elements
set icons           # Show icons for files
set scrolloff 10    # Keep 10 lines visible at top/bottom when scrolling
set dircounts       # Show directory counts in info

# File handling
set ifs "\n"        # Use newline as internal field separator
set tabstop 4       # Tab width for size formatting

# Preview and info
set preview         # Enable file previews
set previewer ~/.config/lf/previewer.sh  # Custom preview script

# Shell integration
set shell bash
set shellopts '-eu'

# Directory-specific settings
setlocal ~/deskenv/master sortby "mtime"  # Sort by modification time
# setlocal ~/deskenv/master reverse       # Reverse sort order (commented out)

#
# Custom commands
#
source ~/.config/lf/custom-commands.sh

#
# KEY MAPPINGS
#

# Quick directory navigation
nmap gi cd ~/Images
nmap gd cd ~/down
nmap gh cd ~/
nmap gu cd /media/UUI
nmap gk cd ~/deskenv/master/
nmap gj cd ~/deskenv/archieve
nmap gc cd ~/.config
nmap ugt cd ~/test
nmap ugr cd ~/refer


# Enhanced scrolling
nmap J half-down
nmap K half-up

# Utility commands (u prefix)
nmap u
nmap uu sxiv-select
nmap ui lazygit
nmap us fish
nmap uf dragx
nmap uw dragw

# Finding and searching (f prefix)
nmap f
nmap fz zi
nmap fn search
nmap n search-next
nmap N search-prev
nmap ff fzf-jump
nmap fg fzf-rg-jump-with-action

# Navigation and selection
nmap b top
nmap e bottom
nmap a create
nmap <c-a> select-all

# File operations
nmap o menu-open
nmap <enter> open
nmap <esc> unselect-all
nmap v visual
nmap x cut
nmap . set hidden!
nmap y copy
nmap d trash
nmap r bulk-rename

# Copy file name
nmap c
nmap cf copy-filename
nmap cc copy-absolute-path 

#
# UTILITY FUNCTIONS
#

# Store selected file paths to temp file for external integration
cmd util-store-filepath ${{
    tempfile="$TMPDIR"/lf-filepath
    echo $fx > $tempfile
}}
map <a-E> util-store-filepath

# Save current directory to temp file
map <a-Q> ${{
    tempfile="$TMPDIR"/lf-pwd
    echo $PWD > $tempfile
}}